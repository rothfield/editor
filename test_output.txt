
Running 5 tests using 1 worker

  âœ˜  1 [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:4:3 â€º 1# Sharp Accidental Glyph â€º FAILING: 1# should render as single NotationMono glyph (U+E1F0) (6.5s)
Has ::after pseudo-element: false
  âœ“  2 [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:53:3 â€º 1# Sharp Accidental Glyph â€º FAILING: Editor should map 1# notation to U+E1F0 glyph (2.2s)
  âœ˜  3 [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:85:3 â€º 1# Sharp Accidental Glyph â€º FAILING: All sharp accidentals (1# through T#) should have NotationMono glyphs (1.6s)
  âœ˜  4 [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:128:3 â€º 1# Sharp Accidental Glyph â€º FAILING: Inspector tab should show U+E1F0 codepoint for 1# (6.9s)
âœ“ NotationMono.ttf contains all 47 sharp accidental glyphs (U+E1F0-U+E21E)
âœ— Rendering layer not yet using these glyphs
âœ— Still using old CSS ::after hack with "#" and "b" content
  âœ“  5 [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:155:3 â€º 1# Sharp Accidental Glyph â€º Reference: NotationMono font contains 1# glyph (396ms)


  1) [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:4:3 â€º 1# Sharp Accidental Glyph â€º FAILING: 1# should render as single NotationMono glyph (U+E1F0) 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('.char-cell[data-accidental="sharp"]').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('.char-cell[data-accidental="sharp"]').first()[22m


      18 |     const pitchCell = page.locator('.char-cell[data-accidental="sharp"]').first();
      19 |
    > 20 |     await expect(pitchCell).toBeVisible();
         |                             ^
      21 |
      22 |     // FAILING TEST: The pitch cell should render as a single glyph from NotationMono
      23 |     // Expected: Single composite glyph U+E1F0 (1_sharp) from NotationMono font
        at /home/john/editor/tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:20:29

    Error Context: test-results/accidental-1sharp-glyph-1--dd298--NotationMono-glyph-U-E1F0--chromium/error-context.md

  2) [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:85:3 â€º 1# Sharp Accidental Glyph â€º FAILING: All sharp accidentals (1# through T#) should have NotationMono glyphs 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('.char-cell[data-accidental="sharp"]').first()
    Expected: visible
    Timeout: 1000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 1000ms[22m
    [2m  - waiting for locator('.char-cell[data-accidental="sharp"]').first()[22m


      114 |       // Instead of "base_char" + "#" pseudo-element combo
      115 |
    > 116 |       await expect(pitchCell).toBeVisible({ timeout: 1000 });
          |                               ^
      117 |
      118 |       const fontFamily = await pitchCell.evaluate(el =>
      119 |         window.getComputedStyle(el).fontFamily
        at /home/john/editor/tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:116:31

    Error Context: test-results/accidental-1sharp-glyph-1--cd9ea-ld-have-NotationMono-glyphs-chromium/error-context.md

  3) [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:128:3 â€º 1# Sharp Accidental Glyph â€º FAILING: Inspector tab should show U+E1F0 codepoint for 1# 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator:  getByTestId('pane-docmodel')
    Expected: visible
    Received: hidden
    Timeout:  5000ms

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for getByTestId('pane-docmodel')[22m
    [2m    9 Ã— locator resolved to <pre id="persistent-json" data-testid="pane-docmodel" class="flex-1 text-xs font-mono bg-white p-3 border-2 border-gray-300 rounded overflow-auto"></pre>[22m
    [2m      - unexpected value "hidden"[22m


      141 |
      142 |       const docModelPane = page.getByTestId('pane-docmodel');
    > 143 |       await expect(docModelPane).toBeVisible();
          |                                  ^
      144 |
      145 |       const content = await docModelPane.textContent();
      146 |       console.log('Document Model:');
        at /home/john/editor/tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:143:34

    Error Context: test-results/accidental-1sharp-glyph-1--c213f-how-U-E1F0-codepoint-for-1--chromium/error-context.md

  3 failed
    [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:4:3 â€º 1# Sharp Accidental Glyph â€º FAILING: 1# should render as single NotationMono glyph (U+E1F0) 
    [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:85:3 â€º 1# Sharp Accidental Glyph â€º FAILING: All sharp accidentals (1# through T#) should have NotationMono glyphs 
    [chromium] â€º tests/e2e-pw/tests/accidental-1sharp-glyph.spec.js:128:3 â€º 1# Sharp Accidental Glyph â€º FAILING: Inspector tab should show U+E1F0 codepoint for 1# 
  2 passed (22.0s)

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m
