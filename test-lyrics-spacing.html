<!DOCTYPE html>
<html>
<head>
    <title>Lyrics Spacing Test</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .test-case { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .instructions { color: #666; margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>Even Spacing with Lyrics - Test Case</h1>

    <div class="test-case">
        <div class="instructions">
            <strong>Test Input:</strong> Type "12" with lyrics "hello  hello dolly"
        </div>
        <div>
            <strong>Expected Behavior:</strong>
            <ul>
                <li>When lyrics are wider than notes, cells get extra width (syllable padding)</li>
                <li>Beat layout distributes this extra space evenly between notes</li>
                <li>Notes are evenly spaced within the beat, even when lyrics cause collisions</li>
            </ul>
        </div>
        <div>
            <strong>Technical Flow:</strong>
            <pre>
1. User types: "12" with lyrics: "hello  hello dolly"
2. Lyrics distributed to cells:
   - Cell 0 ("1"): syllable "hello"
   - Cell 1 ("2"): syllable "hello"

3. Effective width calculation:
   - Cell 0 width: max(note_width, "hello"_width + padding)
   - Cell 1 width: max(note_width, "hello"_width + padding)

4. Beat layout:
   - Beat contains cells 0-1
   - Total beat width = sum of effective widths
   - Extra space distributed evenly between gaps

5. Result:
   - Notes "1" and "2" evenly spaced
   - Lyrics "hello" under each note
   - No overlap/collision
            </pre>
        </div>
    </div>

    <div class="test-case">
        <strong>To test in the editor:</strong>
        <ol>
            <li>Open http://localhost:8080</li>
            <li>Type: <code>12</code></li>
            <li>Set lyrics: Line menu → Set Lyrics → <code>hello  hello dolly</code></li>
            <li>Observe: Notes are evenly spaced within beat, accommodating lyrics width</li>
        </ol>
    </div>
</body>
</html>
